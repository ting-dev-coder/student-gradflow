import { useCallback, useEffect, useRef } from 'react';
import gsap from 'gsap';
import { MotionPathPlugin } from 'gsap/MotionPathPlugin';

gsap.registerPlugin(MotionPathPlugin);

/**
 *  sun out
 *  bg fade out
 *  moon in
 *  bg fade in
 *
 */

export default function WindowAnimation({ isDay, onAnimationStateChange }) {
  const currentTimeline = useRef(null);
  const isFirstLoad = useRef(true);

  const animateSunIn = useCallback(() => {
    const tl = gsap.timeline({
      onComplete: () => onAnimationStateChange(false),
    });

    tl.to('#day', { opacity: 1, duration: 0.2 })
      .to('#sun', { opacity: 1, y: 0, duration: 0.8 })
      .to('#cloud-big', { x: 0, opacity: 0.5, ease: 'power2.out' })
      .to('#cloud-small', { x: 0, opacity: 0.5, ease: 'power2.out' }, '-=0.5');

    return tl;
  }, [onAnimationStateChange]);

  const animateMoonOut = useCallback(() => {
    const tl = gsap.timeline();
    tl.to('#moon', {
      motionPath: {
        path: '#moon-track',
        align: '#moon-track',
        alignOrigin: [0.5, 0.5],
      },
    })
      .to('#stars', { y: 100, opacity: 0, duration: 0.5 }, '-=0.5')
      .to('#night-sky', { opacity: 0, duration: 1, delay: 0.2 })
      .call(animateSunIn, [], '-=1.5');

    return tl;
  }, [animateSunIn]);

  const animateMoonIn = useCallback(() => {
    const tl = gsap.timeline({
      onComplete: () => onAnimationStateChange(false),
    });
    gsap.set('#night-sky', { opacity: 1 });
    gsap.set('#stars', { y: 100 });

    tl.from(
      '#moon',
      {
        motionPath: {
          path: '#moon-track',
          align: '#moon-track',
          alignOrigin: [0.5, 0.5],
          start: 0,
          end: 1,
        },
      },
      '-=0.5'
    ).to('#stars', { y: 0, opacity: 1, duration: 1 }, '-=0.2');

    return tl;
  }, [onAnimationStateChange]);

  // 用 useCallback 確保函式記憶化，避免 `useEffect` 依賴陣列變動
  const animateSunOut = useCallback(() => {
    const tl = gsap.timeline();

    tl.to('#cloud-big', {
      x: '-100%',
      opacity: 0,
      ease: 'power2.out',
      delay: 0.5,
    })
      .to(
        '#cloud-small',
        {
          x: '50%',
          opacity: 0,
          ease: 'power2.out',
        },
        '-=0.5'
      )
      .to('#sun', {
        y: '-100%',
        onComplete: () => {
          gsap.to('#sun', {
            opacity: 0,
            duration: 0.2,
            onComplete: () => {
              gsap.to('#day', { opacity: 0, duration: 0.2 });
              animateMoonIn();
            },
          });
        },
      });
  }, [animateMoonIn]);
  useEffect(() => {
    console.log('isDay changed:', isDay);
    if (isFirstLoad.current) {
      isFirstLoad.current = false;
      return;
    }

    if (currentTimeline.current) {
      currentTimeline.current.kill();
      currentTimeline.current = null;
    }

    onAnimationStateChange(true);
    if (isDay) {
      currentTimeline.current = animateMoonOut();
    } else {
      currentTimeline.current = animateSunOut();
    }
  }, [isDay, animateMoonOut, animateSunOut, onAnimationStateChange]);

  return (
    <svg viewBox="0 0 659 753" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g id="Group 56">
        <g id="Union">
          <mask id="path-1-inside-1_354_11076" fill="white">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M658.356 326.603C658.356 146.225 510.978 0 329.178 0C147.378 0 0 146.225 0 326.603V752.519H658.356V326.603Z"
            />
          </mask>
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M658.356 326.603C658.356 146.225 510.978 0 329.178 0C147.378 0 0 146.225 0 326.603V752.519H658.356V326.603Z"
            fill="#F3AF10"
          />
          <path
            d="M0 752.519H-144.715V897.234H0V752.519ZM658.356 752.519V897.234H803.071V752.519H658.356ZM329.178 144.715C432.127 144.715 513.641 227.219 513.641 326.603H803.071C803.071 65.2322 589.829 -144.715 329.178 -144.715V144.715ZM144.715 326.603C144.715 227.219 226.229 144.715 329.178 144.715V-144.715C68.5274 -144.715 -144.715 65.2322 -144.715 326.603H144.715ZM144.715 752.519V326.603H-144.715V752.519H144.715ZM658.356 607.804H0V897.234H658.356V607.804ZM513.641 326.603V752.519H803.071V326.603H513.641Z"
            fill="#F3AF10"
            mask="url(#path-1-inside-1_354_11076)"
          />
        </g>
        <g id="Mask group">
          <mask
            id="mask0_354_11076"
            style={{ maskType: 'alpha' }}
            maskUnits="userSpaceOnUse"
            x="26"
            y="30"
            width="607"
            height="694"
          >
            <g id="Group 53">
              <ellipse
                id="Ellipse 6"
                cx="329.357"
                cy="331.325"
                rx="303.307"
                ry="300.935"
                fill="#252525"
              />
              <rect
                id="Rectangle 66"
                x="26.0488"
                y="331.325"
                width="606.614"
                height="392.442"
                fill="#252525"
              />
            </g>
          </mask>
          <g mask="url(#mask0_354_11076)">
            <g id="Group 54">
              <g id="night">
                <g id="night-sky">
                  <path
                    d="M691.607 -181.912H-31.9849L-31.9849 892.979H691.607V-181.912Z"
                    fill="#4B4470"
                  />
                  <path
                    d="M691.607 -181.912H-31.9849L-31.9849 892.979H691.607V-181.912Z"
                    fill="url(#paint0_linear_354_11076)"
                  />
                </g>
                <g id="moon">
                  <path
                    id="Vector"
                    d="M503.045 222.973C503.045 291.592 447.417 347.22 378.796 347.22C310.178 347.22 254.55 291.592 254.55 222.973C254.55 154.353 310.178 98.7268 378.796 98.7268C447.417 98.7268 503.045 154.353 503.045 222.973V222.973Z"
                    fill="url(#paint1_radial_354_11076)"
                  />
                  <path
                    id="Vector_2"
                    d="M480.891 222.973C480.891 279.357 435.181 325.065 378.797 325.065C322.413 325.065 276.705 279.357 276.705 222.973C276.705 166.589 322.413 120.881 378.797 120.881C435.181 120.881 480.891 166.589 480.891 222.973Z"
                    fill="url(#paint2_radial_354_11076)"
                  />
                  <path
                    id="Vector_3"
                    d="M471.191 222.973C471.191 273.999 429.825 315.365 378.796 315.365C327.77 315.365 286.404 273.999 286.404 222.973C286.404 171.945 327.77 130.579 378.796 130.579C429.825 130.579 471.191 171.945 471.191 222.973Z"
                    fill="url(#paint3_linear_354_11076)"
                  />
                  <path
                    id="Vector_4"
                    d="M342.598 192.709C342.598 206.035 331.793 216.841 318.467 216.841C305.138 216.841 294.333 206.035 294.333 192.709C294.333 179.38 305.138 168.575 318.467 168.575C331.793 168.575 342.598 179.38 342.598 192.709Z"
                    fill="url(#paint4_radial_354_11076)"
                  />
                  <path
                    id="Vector_5"
                    d="M362.379 154.728C362.379 163.031 355.649 169.763 347.346 169.763C339.043 169.763 332.311 163.031 332.311 154.728C332.311 146.427 339.043 139.695 347.346 139.695C355.649 139.695 362.379 146.427 362.379 154.728Z"
                    fill="url(#paint5_radial_354_11076)"
                  />
                  <path
                    id="Vector_6"
                    d="M365.543 184.004C365.543 189.686 360.939 194.291 355.257 194.291C349.577 194.291 344.97 189.686 344.97 184.004C344.97 178.324 349.577 173.718 355.257 173.718C360.939 173.718 365.543 178.324 365.543 184.004Z"
                    fill="url(#paint6_radial_354_11076)"
                  />
                </g>
                <g id="stars">
                  <path
                    id="Vector_7"
                    opacity="0.8"
                    d="M185.269 427.768L183.472 425.915L183.105 428.447L180.802 429.593L183.105 430.737L183.472 433.268L185.269 431.443L187.803 431.88L186.604 429.593L187.803 427.332L185.269 427.768Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_8"
                    opacity="0.8"
                    d="M559.62 524.088L558.477 525.26L556.843 524.99L557.607 526.431L556.843 527.904L558.477 527.628L559.62 528.8L559.865 527.166L561.335 526.431L559.865 525.712L559.62 524.088Z"
                    fill="white"
                  />
                  <path
                    id="Vector_9"
                    opacity="0.8"
                    d="M266.245 396.092L263.848 391.544L266.245 386.996L261.166 387.869L257.585 384.175L256.838 389.27L252.221 391.544L256.838 393.818L257.585 398.909L261.166 395.219L266.245 396.092Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_10"
                    opacity="0.8"
                    d="M191.454 327.121L192.65 324.847L190.119 325.28L188.322 323.443L187.955 325.974L185.652 327.121L187.955 328.264L188.322 330.796L190.119 328.971L192.65 329.395L191.454 327.121Z"
                    fill="white"
                  />
                  <path
                    id="Vector_11"
                    opacity="0.8"
                    d="M506.378 504.508L505.235 505.679L503.642 505.406L504.39 506.826L503.642 508.267L505.235 507.994L506.378 509.153L506.595 507.561L508.052 506.826L506.595 506.116L506.378 504.508Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_12"
                    opacity="0.8"
                    d="M343.239 347.236L342.231 348.272L340.799 348.027L341.468 349.305L340.799 350.587L342.231 350.342L343.239 351.375L343.456 349.946L344.75 349.305L343.456 348.665L343.239 347.236Z"
                    fill="white"
                  />
                  <path
                    id="Vector_13"
                    opacity="0.8"
                    d="M444.533 497.019L442.922 498.653L440.664 498.273L441.725 500.286L440.664 502.315L442.922 501.922L444.533 503.568L444.844 501.294L446.901 500.286L444.844 499.278L444.533 497.019Z"
                    fill="white"
                  />
                  <path
                    id="Vector_14"
                    opacity="0.8"
                    d="M291.888 558.506L291.238 557.84L291.099 558.764L290.267 559.175L291.099 559.584L291.238 560.523L291.888 559.854L292.818 560.02L292.381 559.175L292.818 558.355L291.888 558.506Z"
                    fill="white"
                  />
                  <path
                    id="Vector_15"
                    opacity="0.8"
                    d="M454.69 358.952L451.314 355.493L450.632 360.274L446.304 362.41L450.632 364.549L451.314 369.326L454.69 365.868L459.455 366.685L457.197 362.41L459.455 358.135L454.69 358.952Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_16"
                    opacity="0.8"
                    d="M64.6493 181.719L63.3835 180.412L63.126 182.224L61.4927 183.025L63.126 183.829L63.3835 185.642L64.6493 184.332L66.4459 184.634L65.6041 183.025L66.4459 181.42L64.6493 181.719Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_17"
                    opacity="0.8"
                    d="M179.709 192.737L179.341 190.202L177.544 192.039L175.01 191.606L176.21 193.88L175.01 196.154L177.544 195.717L179.341 197.555L179.709 195.011L182.02 193.88L179.709 192.737Z"
                    fill="white"
                  />
                  <path
                    id="Vector_18"
                    opacity="0.8"
                    d="M326.516 517.879L327.634 516.71L329.239 516.984L328.476 515.551L329.239 514.122L327.634 514.395L326.516 513.224L326.271 514.832L324.83 515.551L326.271 516.274L326.516 517.879Z"
                    fill="white"
                  />
                  <path
                    id="Vector_19"
                    opacity="0.8"
                    d="M430.094 75.1131L430.747 75.7947L430.886 74.8681L431.727 74.4472L430.886 74.0389L430.747 73.1123L430.094 73.7782L429.167 73.6149L429.604 74.4472L429.167 75.2764L430.094 75.1131Z"
                    fill="white"
                  />
                  <path
                    id="Vector_20"
                    opacity="0.8"
                    d="M356.358 275.135L354.762 273.502L354.423 275.761L352.381 276.769L354.423 277.777L354.762 280.051L356.358 278.402L358.619 278.798L357.554 276.769L358.619 274.755L356.358 275.135Z"
                    fill="white"
                  />
                  <path
                    id="Vector_21"
                    opacity="0.8"
                    d="M76.9831 376.65L73.7825 373.38L73.1166 377.9L69.0303 379.929L73.1166 381.946L73.7825 386.465L76.9831 383.199L81.4746 383.975L79.3513 379.929L81.4746 375.871L76.9831 376.65Z"
                    fill="white"
                  />
                  <path
                    id="Vector_22"
                    opacity="0.8"
                    d="M600.853 529.456L599.653 528.206L599.408 529.92L597.844 530.681L599.408 531.472L599.653 533.187L600.853 531.937L602.568 532.235L601.777 530.681L602.568 529.157L600.853 529.456Z"
                    fill="white"
                  />
                  <path
                    id="Vector_23"
                    opacity="0.8"
                    d="M382.576 546.884L383.964 545.455L385.927 545.798L385.001 544.026L385.927 542.283L383.964 542.61L382.576 541.193L382.306 543.156L380.509 544.026L382.306 544.912L382.576 546.884Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_24"
                    opacity="0.8"
                    d="M538.299 551.003L537.451 551.876L536.226 551.669L536.8 552.762L536.226 553.836L537.451 553.644L538.299 554.517L538.474 553.289L539.577 552.762L538.474 552.215L538.299 551.003Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_25"
                    opacity="0.8"
                    d="M470.996 550.428L469.963 549.351L469.746 550.849L468.383 551.502L469.746 552.184L469.963 553.666L470.996 552.592L472.494 552.837L471.788 551.502L472.494 550.167L470.996 550.428Z"
                    fill="white"
                  />
                  <path
                    id="Vector_26"
                    opacity="0.8"
                    d="M568.144 557.589L567.11 556.499L566.893 557.997L565.53 558.651L566.893 559.332L567.11 560.831L568.144 559.741L569.629 559.986L568.935 558.651L569.629 557.316L568.144 557.589Z"
                    fill="white"
                  />
                  <path
                    id="Vector_27"
                    opacity="0.8"
                    d="M253.515 479.531L251.119 477.081L250.613 480.486L247.522 482.009L250.613 483.536L251.119 486.953L253.515 484.488L256.917 485.059L255.312 482.009L256.917 478.96L253.515 479.531Z"
                    fill="white"
                  />
                  <path
                    id="Vector_28"
                    opacity="0.8"
                    d="M335.082 437.446L333.694 436.029L333.392 437.992L331.624 438.875L333.392 439.761L333.694 441.721L335.082 440.307L337.03 440.634L336.116 438.875L337.03 437.119L335.082 437.446Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_29"
                    opacity="0.8"
                    d="M603.644 482.015L602.786 482.889L601.574 482.684L602.148 483.759L601.574 484.848L602.786 484.657L603.644 485.53L603.823 484.302L604.925 483.759L603.823 483.215L603.644 482.015Z"
                    fill="white"
                  />
                  <path
                    id="Vector_30"
                    opacity="0.8"
                    d="M383.364 633.96L384.479 635.132L384.724 633.527L386.165 632.817L384.724 632.082L384.479 630.49L383.364 631.649L381.755 631.376L382.515 632.817L381.755 634.234L383.364 633.96Z"
                    fill="white"
                  />
                  <path
                    id="Vector_31"
                    opacity="0.8"
                    d="M381.116 473.133L382.504 471.704L384.464 472.043L383.537 470.271L384.464 468.531L382.504 468.855L381.116 467.441L380.843 469.401L379.046 470.271L380.843 471.157L381.116 473.133Z"
                    fill="white"
                  />
                  <path
                    id="Vector_32"
                    opacity="0.8"
                    d="M165.145 604.408L162.912 602.108L162.435 605.293L159.548 606.707L162.435 608.139L162.912 611.324L165.145 609.022L168.333 609.568L166.835 606.707L168.333 603.861L165.145 604.408Z"
                    fill="white"
                  />
                  <path
                    id="Vector_33"
                    opacity="0.8"
                    d="M200.003 540.625L204.551 541.388L202.4 537.33L204.551 533.244L200.003 534.032L196.806 530.737L196.137 535.285L192.025 537.33L196.137 539.359L196.806 543.904L200.003 540.625Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_34"
                    opacity="0.8"
                    d="M107.152 636.385L105.842 637.748L103.992 637.422L104.862 639.083L103.992 640.742L105.842 640.415L107.152 641.778L107.422 639.912L109.112 639.083L107.422 638.251L107.152 636.385Z"
                    fill="white"
                  />
                  <path
                    id="Vector_35"
                    opacity="0.8"
                    d="M410.31 558.34L408.064 556.025L407.587 559.238L404.7 560.655L407.587 562.096L408.064 565.313L410.31 562.982L413.523 563.525L412.012 560.655L413.523 557.793L410.31 558.34Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_36"
                    opacity="0.8"
                    d="M327.766 553.833L326.636 552.674L326.406 554.282L324.961 554.992L326.406 555.698L326.636 557.303L327.766 556.147L329.359 556.433L328.611 554.992L329.359 553.547L327.766 553.833Z"
                    fill="white"
                  />
                  <path
                    id="Vector_37"
                    opacity="0.8"
                    d="M530.588 615.357L529.542 614.28L529.322 615.778L527.975 616.431L529.322 617.1L529.542 618.583L530.588 617.521L532.089 617.766L531.379 616.431L532.089 615.096L530.588 615.357Z"
                    fill="white"
                  />
                  <path
                    id="Vector_38"
                    opacity="0.8"
                    d="M266.44 593.92L264.028 591.458L263.525 594.862L260.447 596.386L263.525 597.912L264.028 601.329L266.44 598.864L269.842 599.435L268.237 596.386L269.842 593.336L266.44 593.92Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_39"
                    opacity="0.8"
                    d="M27.3132 620.112L30.9095 623.79L31.6445 618.711L36.2459 616.437L31.6445 614.163L30.9095 609.072L27.3132 612.747L22.25 611.877L24.6308 616.437L22.25 620.985L27.3132 620.112Z"
                    fill="white"
                  />
                  <path
                    id="Vector_40"
                    opacity="0.8"
                    d="M450.959 312.308L451.735 313.084L451.886 311.994L452.879 311.52L451.886 311.03L451.735 309.94L450.959 310.728L449.885 310.54L450.388 311.52L449.885 312.487L450.959 312.308Z"
                    fill="white"
                  />
                  <path
                    id="Vector_41"
                    opacity="0.8"
                    d="M382.469 89.2153L380.917 90.7795L378.766 90.4152L379.774 92.3594L378.766 94.3068L380.917 93.9393L382.469 95.5066L382.77 93.3268L384.743 92.3594L382.77 91.3794L382.469 89.2153Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_42"
                    opacity="0.8"
                    d="M618.58 45.7133L619.475 44.7867L620.729 45.0034L620.132 43.8601L620.729 42.7326L619.475 42.9493L618.58 42.0227L618.389 43.2885L617.229 43.8601L618.389 44.4318L618.58 45.7133Z"
                    fill="white"
                  />
                  <path
                    id="Vector_43"
                    opacity="0.8"
                    d="M489.797 219.246L491.361 218.467L489.797 217.707L489.552 215.992L488.352 217.229L486.637 216.944L487.441 218.467L486.637 220.009L488.352 219.723L489.552 220.961L489.797 219.246Z"
                    fill="white"
                  />
                  <path
                    id="Vector_44"
                    opacity="0.8"
                    d="M60.1011 227.042L61.3009 224.768L58.7662 225.204L56.9696 223.367L56.6021 225.911L54.2998 227.042L56.6021 228.185L56.9696 230.732L58.7662 228.895L61.3009 229.316L60.1011 227.042Z"
                    fill="white"
                  />
                  <path
                    id="Vector_45"
                    opacity="0.8"
                    d="M278.904 315.298L277.405 313.747L277.082 315.898L275.131 316.85L277.082 317.817L277.405 319.969L278.904 318.417L281.055 318.785L280.047 316.85L281.055 314.931L278.904 315.298Z"
                    fill="white"
                  />
                  <path
                    id="Vector_46"
                    opacity="0.8"
                    d="M309.929 226.766L308.88 225.688L308.66 227.186L307.3 227.852L308.66 228.521L308.88 230.004L309.929 228.93L311.411 229.187L310.701 227.852L311.411 226.517L309.929 226.766Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_47"
                    opacity="0.8"
                    d="M382.026 214.551L383.251 213.297L384.953 213.599L384.152 212.06L384.953 210.521L383.251 210.807L382.026 209.566L381.784 211.297L380.229 212.06L381.784 212.82L382.026 214.551Z"
                    fill="white"
                  />
                  <path
                    id="Vector_48"
                    opacity="0.8"
                    d="M198.282 260.408L200.299 258.322L203.157 258.812L201.81 256.252L203.157 253.693L200.299 254.183L198.282 252.1L197.874 254.974L195.261 256.252L197.874 257.534L198.282 260.408Z"
                    fill="white"
                  />
                  <path
                    id="Vector_49"
                    opacity="0.8"
                    d="M431.781 225.987L433.662 225.064L431.781 224.137L431.483 222.067L430.013 223.565L427.943 223.21L428.923 225.064L427.943 226.929L430.013 226.574L431.483 228.073L431.781 225.987Z"
                    fill="white"
                  />
                  <path
                    id="Vector_50"
                    opacity="0.8"
                    d="M385.161 166.02L386.031 166.893L386.194 165.678L387.297 165.134L386.194 164.591L386.031 163.379L385.161 164.249L383.961 164.048L384.533 165.134L383.961 166.224L385.161 166.02Z"
                    fill="white"
                  />
                  <path
                    id="Vector_51"
                    opacity="0.8"
                    d="M213.007 27.4206L211.455 25.8281L211.128 28.0362L209.112 29.0287L211.128 30.0213L211.455 32.2293L213.007 30.6212L215.211 31.0044L214.178 29.0287L215.211 27.0405L213.007 27.4206Z"
                    fill="white"
                  />
                  <path
                    id="Vector_52"
                    opacity="0.8"
                    d="M34.2856 66.7923L35.3347 64.8041L33.1266 65.1873L31.5624 63.5791L31.2326 65.7997L29.2476 66.7923L31.2326 67.7879L31.5624 69.9929L33.1266 68.4004L35.3347 68.7679L34.2856 66.7923Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_53"
                    opacity="0.8"
                    d="M256.669 209.707L258.18 208.155L260.331 208.507L259.326 206.588L260.331 204.669L258.18 205.036L256.669 203.485L256.358 205.636L254.395 206.588L256.358 207.556L256.669 209.707Z"
                    fill="white"
                  />
                  <path
                    id="Vector_54"
                    opacity="0.8"
                    d="M120.601 184.825L122.397 186.662L122.765 184.115L125.08 182.984L122.765 181.841L122.397 179.294L120.601 181.147L118.066 180.71L119.266 182.984L118.066 185.258L120.601 184.825Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_55"
                    opacity="0.8"
                    d="M440.469 165.542L439.57 164.632L439.379 165.897L438.235 166.469L439.379 167.041L439.57 168.306L440.469 167.383L441.75 167.612L441.15 166.469L441.75 165.326L440.469 165.542Z"
                    fill="white"
                  />
                  <path
                    id="Vector_56"
                    opacity="0.8"
                    d="M58.458 316.856L60.8388 312.349L55.8134 313.222L52.261 309.573L51.526 314.611L46.9497 316.856L51.526 319.105L52.261 324.143L55.8134 320.493L60.8388 321.364L58.458 316.856Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_57"
                    opacity="0.8"
                    d="M102.858 236.719L104.985 232.673L100.49 233.437L97.2767 230.167L96.6234 234.69L92.5371 236.719L96.6234 238.748L97.2767 243.268L100.49 239.986L104.985 240.761L102.858 236.719Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_58"
                    opacity="0.8"
                    d="M437.368 33.2125L438.348 34.2207L438.556 32.8293L439.821 32.2042L438.556 31.5792L438.348 30.1909L437.368 31.1992L435.98 30.9667L436.633 32.2042L435.98 33.4449L437.368 33.2125Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_59"
                    opacity="0.8"
                    d="M177.518 55.6704L178.674 56.842L178.906 55.2087L180.389 54.4863L178.906 53.7513L178.674 52.1306L177.518 53.3022L175.91 53.0289L176.673 54.4863L175.91 55.9437L177.518 55.6704Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_60"
                    opacity="0.8"
                    d="M111.599 56.8006L112.717 55.6448L114.322 55.9149L113.559 54.4858L114.322 53.0566L112.717 53.3268L111.599 52.1709L111.354 53.7633L109.912 54.4858L111.354 55.2082L111.599 56.8006Z"
                    fill="white"
                  />
                  <path
                    id="Vector_61"
                    opacity="0.8"
                    d="M225.602 88.5398L226.352 87.1107L224.757 87.384L223.614 86.2124L223.397 87.8206L221.939 88.5398L223.397 89.2497L223.614 90.8547L224.757 89.6988L226.352 89.9721L225.602 88.5398Z"
                    fill="white"
                  />
                  <path
                    id="Vector_62"
                    opacity="0.8"
                    d="M134.355 95.7297L132.788 94.1216L132.461 96.3422L130.473 97.3379L132.461 98.3179L132.788 100.538L134.355 98.9303L136.56 99.3104L135.511 97.3379L136.56 95.3497L134.355 95.7297Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_63"
                    opacity="0.8"
                    d="M510.119 91.5992L510.841 92.3593L511.001 91.3134L511.928 90.8486L511.001 90.3869L510.841 89.3503L510.119 90.101L509.07 89.922L509.56 90.8486L509.07 91.7751L510.119 91.5992Z"
                    fill="white"
                  />
                  <path
                    id="Vector_64"
                    opacity="0.8"
                    d="M386.931 67.1252L387.804 68.0109L387.968 66.7828L389.086 66.2551L387.968 65.7086L387.804 64.4836L386.931 65.3694L385.734 65.1621L386.306 66.2551L385.734 67.3293L386.931 67.1252Z"
                    fill="white"
                  />
                  <path
                    id="Vector_65"
                    opacity="0.8"
                    d="M69.8434 63.7302L72.3781 61.1138L75.9588 61.742L74.2689 58.5257L75.9588 55.3L72.3781 55.9124L69.8434 53.3118L69.3126 56.905L66.0586 58.5257L69.3126 60.1338L69.8434 63.7302Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_66"
                    opacity="0.8"
                    d="M259.722 66.6856L261.983 64.3707L265.184 64.9141L263.67 62.0559L265.184 59.1819L261.983 59.7284L259.722 57.4136L259.26 60.611L256.361 62.0559L259.26 63.485L259.722 66.6856Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_67"
                    opacity="0.8"
                    d="M461.752 76.2152L462.801 77.2799L463.005 75.8068L464.327 75.1567L463.005 74.5002L462.801 73.0303L461.752 74.0919L460.294 73.8469L460.976 75.1567L460.294 76.4633L461.752 76.2152Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_68"
                    opacity="0.8"
                    d="M122.536 451.608L120.74 453.446L118.205 453.025L119.405 455.286L118.205 457.573L120.74 457.136L122.536 458.977L122.904 456.429L125.206 455.286L122.904 454.155L122.536 451.608Z"
                    fill="white"
                  />
                  <path
                    id="Vector_69"
                    opacity="0.8"
                    d="M73.648 528.576L75.2279 530.213L75.5577 527.951L77.6275 526.943L75.5577 525.922L75.2279 523.648L73.648 525.297L71.3896 524.914L72.4513 526.943L71.3896 528.959L73.648 528.576Z"
                    fill="white"
                  />
                  <path
                    id="Vector_70"
                    opacity="0.8"
                    d="M147.092 296.815L149.626 299.431L150.142 295.835L153.411 294.214L150.142 292.609L149.626 289L147.092 291.616L143.499 290.988L145.201 294.214L143.499 297.43L147.092 296.815Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_71"
                    opacity="0.8"
                    d="M254.109 254.49L253.265 255.376L252.04 255.156L252.611 256.246L252.04 257.336L253.265 257.119L254.109 258.014L254.301 256.789L255.391 256.246L254.301 255.699L254.109 254.49Z"
                    fill="white"
                  />
                  <path
                    id="Vector_72"
                    opacity="0.8"
                    d="M332.183 181.904L331.134 180.814L330.93 182.312L329.567 182.978L330.93 183.644L331.134 185.142L332.183 184.055L333.678 184.313L332.972 182.978L333.678 181.643L332.183 181.904Z"
                    fill="white"
                  />
                  <path
                    id="Vector_73"
                    opacity="0.8"
                    d="M437.513 268.417L436.794 267.654L436.631 268.687L435.691 269.165L436.631 269.614L436.794 270.663L437.513 269.912L438.55 270.091L438.06 269.165L438.55 268.225L437.513 268.417Z"
                    fill="white"
                  />
                  <path
                    id="Vector_74"
                    opacity="0.8"
                    d="M595.822 640.5L595.385 637.639L593.368 639.709L590.51 639.219L591.87 641.778L590.51 644.338L593.368 643.848L595.385 645.918L595.822 643.057L598.406 641.778L595.822 640.5Z"
                    fill="#FEE2BB"
                  />
                  <path
                    id="Vector_75"
                    opacity="0.8"
                    d="M549.094 34.0105L551.396 32.8798L549.094 31.7365L548.727 29.1892L546.93 31.0266L544.398 30.6058L545.595 32.8798L544.398 35.1538L546.93 34.7204L548.727 36.5578L549.094 34.0105Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_76"
                    opacity="0.8"
                    d="M453.177 628.85L451.569 627.217L451.242 629.475L449.188 630.483L451.242 631.492L451.569 633.766L453.177 632.117L455.423 632.512L454.348 630.483L455.423 628.467L453.177 628.85Z"
                    fill="white"
                  />
                  <path
                    id="Vector_77"
                    opacity="0.8"
                    d="M583.949 445.722L584.75 444.905L585.881 445.097L585.35 444.076L585.881 443.052L584.75 443.259L583.949 442.427L583.786 443.57L582.762 444.076L583.786 444.579L583.949 445.722Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_78"
                    opacity="0.8"
                    d="M134.04 550.353L132.897 551.512L131.301 551.238L132.052 552.68L131.301 554.096L132.897 553.826L134.04 554.998L134.257 553.39L135.727 552.68L134.257 551.945L134.04 550.353Z"
                    fill="white"
                  />
                  <path
                    id="Vector_79"
                    opacity="0.8"
                    d="M588.895 227.639L587.532 225.079L588.895 222.519L586.034 223.009L584.005 220.927L583.584 223.8L580.996 225.079L583.584 226.36L584.005 229.234L586.034 227.149L588.895 227.639Z"
                    fill="white"
                  />
                  <path
                    id="Vector_80"
                    opacity="0.8"
                    d="M587.241 179.036L588.808 177.428L591.013 177.811L589.964 175.836L591.013 173.847L588.808 174.231L587.241 172.638L586.914 174.843L584.914 175.836L586.914 176.831L587.241 179.036Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_81"
                    opacity="0.8"
                    d="M527.529 174.859L530.714 171.577L535.237 172.352L533.098 168.307L535.237 164.265L530.714 165.025L527.529 161.758L526.876 166.281L522.765 168.307L526.876 170.336L527.529 174.859Z"
                    fill="white"
                  />
                  <path
                    id="Vector_82"
                    opacity="0.8"
                    d="M571.439 78.4261L572.203 76.9969L570.598 77.2702L569.479 76.0986L569.234 77.7068L567.79 78.4261L569.234 79.1359L569.479 80.7409L570.598 79.5851L572.203 79.8583L571.439 78.4261Z"
                    fill="white"
                  />
                  <path
                    id="Vector_83"
                    opacity="0.8"
                    d="M531.744 499.02L530.193 497.412L529.866 499.633L527.85 500.613L529.866 501.605L530.193 503.826L531.744 502.218L533.952 502.601L532.916 500.613L533.952 498.637L531.744 499.02Z"
                    fill="white"
                  />
                  <path
                    id="Vector_84"
                    opacity="0.8"
                    d="M384.152 313.452L382.136 311.398L381.728 314.243L379.143 315.522L381.728 316.803L382.136 319.649L384.152 317.592L386.985 318.069L385.651 315.522L386.985 312.978L384.152 313.452Z"
                    fill="#FFEBC9"
                  />
                  <path
                    id="Vector_85"
                    opacity="0.8"
                    d="M509.019 307.729L507.223 305.888L506.868 308.435L504.553 309.579L506.868 310.71L507.223 313.257L509.019 311.404L511.551 311.84L510.354 309.579L511.551 307.292L509.019 307.729Z"
                    fill="#FBC78E"
                  />
                  <path
                    id="Vector_86"
                    opacity="0.8"
                    d="M632.778 261.294L634.794 259.224L637.624 259.714L636.277 257.182L637.624 254.623L634.794 255.113L632.778 253.043L632.357 255.901L629.781 257.182L632.357 258.448L632.778 261.294Z"
                    fill="white"
                  />
                </g>
                <path
                  id="moon-track"
                  d="M366.464 225.183C366.464 225.183 184.283 331.5 136.5 445C88.7172 558.5 93 714 93 714"
                />
              </g>
              <g id="day">
                <g id="day-sky">
                  <mask
                    id="mask1_354_11076"
                    style={{ maskType: 'alpha' }}
                    maskUnits="userSpaceOnUse"
                    x="25"
                    y="14"
                    width="609"
                    height="739"
                  >
                    <g id="Group 53_2">
                      <ellipse
                        id="Ellipse 6_2"
                        cx="329.5"
                        cy="334.736"
                        rx="304.5"
                        ry="320.736"
                        fill="#252525"
                      />
                      <rect
                        id="Rectangle 66_2"
                        x="25"
                        y="334.736"
                        width="608.999"
                        height="418.264"
                        fill="#252525"
                      />
                    </g>
                  </mask>
                  <g mask="url(#mask1_354_11076)">
                    <g id="Group 54_2">
                      <path
                        id="sky"
                        d="M693.176 -212.272H-33.2622L-33.2622 933.346H693.176V-212.272Z"
                        fill="url(#paint7_linear_354_11076)"
                      />
                      <g id="day mask" style={{ mixBlendMode: 'lighten' }}>
                        <rect
                          x="26.0933"
                          y="-19.0781"
                          width="607.288"
                          height="772.729"
                          fill="url(#paint8_linear_354_11076)"
                        />
                      </g>
                    </g>
                  </g>
                </g>
                <line
                  id="sun-track"
                  x1="398.614"
                  y1="225.5"
                  x2="619.977"
                  y2="225.5"
                />
                <path
                  id="cloud-small"
                  opacity="0.5"
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M526.247 301.617C518.856 292.178 506.553 286 492.625 286C480.784 286 470.118 290.465 462.646 297.602C459.119 296.722 455.398 296.251 451.553 296.251C428.953 296.251 410.633 312.517 410.633 332.581C410.633 352.646 428.953 368.912 451.553 368.912C454.614 368.912 457.596 368.614 460.465 368.048C467.966 376.298 479.45 381.575 492.323 381.575C502.669 381.575 512.119 378.165 519.325 372.543C523.018 373.515 526.929 374.038 530.978 374.038C553.577 374.038 571.898 357.772 571.898 337.707C571.898 317.642 553.577 301.376 530.978 301.376C529.378 301.376 527.799 301.458 526.247 301.617Z"
                  fill="white"
                />
                <path
                  id="cloud-big"
                  opacity="0.5"
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M261.974 216.761C248.56 203.743 228.247 196.798 206.734 199.739C188.445 202.239 172.916 211.388 162.887 223.989C157.252 223.375 151.405 223.433 145.467 224.245C110.56 229.017 85.708 258.01 89.9588 289.002C94.2096 319.994 125.953 341.249 160.861 336.477C165.588 335.831 170.131 334.74 174.443 333.26C187.777 344.42 206.633 350.145 226.515 347.427C242.497 345.243 256.37 337.981 266.309 327.775C272.219 328.497 278.371 328.478 284.625 327.623C319.532 322.851 344.384 293.858 340.133 262.866C335.882 231.874 304.139 210.619 269.231 215.391C266.76 215.729 264.339 216.188 261.974 216.761Z"
                  fill="white"
                />
                <g id="sun">
                  <path
                    id="Vector_87"
                    d="M518.384 218.286C518.384 296.315 455.023 359.572 376.864 359.572C298.707 359.572 235.345 296.315 235.345 218.286C235.345 140.255 298.707 77 376.864 77C455.023 77 518.384 140.255 518.384 218.286V218.286Z"
                    fill="url(#paint9_radial_354_11076)"
                  />
                  <g id="Ellipse 7" filter="url(#filter0_d_354_11076)">
                    <ellipse
                      cx="377.152"
                      cy="218.574"
                      rx="104.22"
                      ry="104.049"
                      fill="white"
                    />
                  </g>
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
      <defs>
        <filter
          id="filter0_d_354_11076"
          x="257.933"
          y="103.526"
          width="238.439"
          height="238.097"
          filterUnits="userSpaceOnUse"
          colorInterpolationFilters="sRGB"
        >
          <feFlood floodOpacity="0" result="BackgroundImageFix" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha"
          />
          <feMorphology
            radius="5"
            operator="dilate"
            in="SourceAlpha"
            result="effect1_dropShadow_354_11076"
          />
          <feOffset dy="4" />
          <feGaussianBlur stdDeviation="5" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"
          />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_354_11076"
          />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect1_dropShadow_354_11076"
            result="shape"
          />
        </filter>
        <linearGradient
          id="paint0_linear_354_11076"
          x1="329.811"
          y1="-181.912"
          x2="329.811"
          y2="892.979"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#06131D" />
          <stop offset="0.234375" stopColor="#071925" />
          <stop offset="0.604167" stopColor="#103550" />
          <stop offset="1" stopColor="#1C5B85" />
        </linearGradient>
        <radialGradient
          id="paint1_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(377.685 221.861) scale(123.964 123.964)"
        >
          <stop stopColor="#0D87FF" />
          <stop offset="0.2367" stopColor="#FFD55C" stopOpacity="0.764706" />
          <stop offset="0.3932" stopColor="#FFD765" stopOpacity="0.607843" />
          <stop offset="0.5265" stopColor="#FFDB74" stopOpacity="0.47451" />
          <stop offset="0.6468" stopColor="#FFE089" stopOpacity="0.352941" />
          <stop offset="0.7583" stopColor="#FFE8A4" stopOpacity="0.243137" />
          <stop offset="0.8635" stopColor="#FFF0C6" stopOpacity="0.137255" />
          <stop offset="0.9617" stopColor="#FFFAED" stopOpacity="0.039216" />
          <stop offset="1" stopColor="white" stopOpacity="0" />
        </radialGradient>
        <radialGradient
          id="paint2_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(351.63 182.451) scale(137.706 137.706)"
        >
          <stop stopColor="#FFEBC9" />
          <stop offset="0.2771" stopColor="#FFE9C5" />
          <stop offset="0.5263" stopColor="#FEE2BB" />
          <stop offset="0.7641" stopColor="#FDD7A8" />
          <stop offset="0.9948" stopColor="#FBC78F" />
          <stop offset="1" stopColor="#FBC78E" />
        </radialGradient>
        <linearGradient
          id="paint3_linear_354_11076"
          x1="288.713"
          y1="112.975"
          x2="392.087"
          y2="239.201"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="white" />
          <stop offset="0.4417" stopColor="#FFEBC9" />
          <stop offset="0.5964" stopColor="#FFE9C5" />
          <stop offset="0.7356" stopColor="#FEE2BB" />
          <stop offset="0.8683" stopColor="#FDD7A8" />
          <stop offset="0.9971" stopColor="#FBC78F" />
          <stop offset="1" stopColor="#FBC78E" />
        </linearGradient>
        <radialGradient
          id="paint4_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(327.855 201.1) rotate(180) scale(40.6883)"
        >
          <stop stopColor="#FFEBC9" />
          <stop offset="0.3433" stopColor="#FFE9C6" />
          <stop offset="0.567" stopColor="#FEE4BE" />
          <stop offset="0.7566" stopColor="#FDDBAF" />
          <stop offset="0.9261" stopColor="#FCCE9A" />
          <stop offset="1" stopColor="#FBC78E" />
        </radialGradient>
        <radialGradient
          id="paint5_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(354.115 162.674) rotate(180) scale(27.4709)"
        >
          <stop stopColor="#FFEBC9" />
          <stop offset="0.2771" stopColor="#FFE9C5" />
          <stop offset="0.5263" stopColor="#FEE2BB" />
          <stop offset="0.7641" stopColor="#FDD7A8" />
          <stop offset="0.9948" stopColor="#FBC78F" />
          <stop offset="1" stopColor="#FBC78E" />
        </radialGradient>
        <radialGradient
          id="paint6_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(357.994 188.087) rotate(180) scale(17.2809)"
        >
          <stop stopColor="#FFEBC9" />
          <stop offset="0.2771" stopColor="#FFE9C5" />
          <stop offset="0.5263" stopColor="#FEE2BB" />
          <stop offset="0.7641" stopColor="#FDD7A8" />
          <stop offset="0.9948" stopColor="#FBC78F" />
          <stop offset="1" stopColor="#FBC78E" />
        </radialGradient>
        <linearGradient
          id="paint7_linear_354_11076"
          x1="329.957"
          y1="-212.272"
          x2="329.957"
          y2="933.346"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#06131D" />
          <stop offset="0.234375" stopColor="#071925" />
          <stop offset="0.604167" stopColor="#103550" />
          <stop offset="1" stopColor="#1C5B85" />
        </linearGradient>
        <linearGradient
          id="paint8_linear_354_11076"
          x1="329.737"
          y1="-19.0781"
          x2="329.737"
          y2="753.651"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#F1C788" />
          <stop offset="1" stopColor="#FF5351" />
        </linearGradient>
        <radialGradient
          id="paint9_radial_354_11076"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(375.597 217.021) scale(141.196 140.964)"
        >
          <stop stopColor="#0D87FF" />
          <stop offset="0.2367" stopColor="#FFD55C" stopOpacity="0.764706" />
          <stop offset="0.3932" stopColor="#FFD765" stopOpacity="0.607843" />
          <stop offset="0.5265" stopColor="#FFDB74" stopOpacity="0.47451" />
          <stop offset="0.6468" stopColor="#FFE089" stopOpacity="0.352941" />
          <stop offset="0.7583" stopColor="#FFE8A4" stopOpacity="0.243137" />
          <stop offset="0.8635" stopColor="#FFF0C6" stopOpacity="0.137255" />
          <stop offset="0.9617" stopColor="#FFFAED" stopOpacity="0.039216" />
          <stop offset="1" stopColor="white" stopOpacity="0" />
        </radialGradient>
      </defs>
    </svg>
  );
}
